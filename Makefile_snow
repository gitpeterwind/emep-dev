#
#
PROG =	Unimod
###################################################

include Makefile.SRCS

###################################################

LIBS = -lnetcdf
INCL = -I/usr/include/netcdf-3
LLIB = -L/usr/lib/netcdf-3


F90 = scampif90

#LDFLAGS =  -r8  -debug-parameters all -traceback  -ftrapuv -g -fpe0 -O0 -convert big_endian -IPF_fp_relaxed $(INCL)
#LDFLAGS =  -r8 -O3 -convert big_endian  -IPF_fp_relaxed 
LDFLAGS =  -r8 -O2 -mieee-fp -ftz -convert big_endian  -IPF_fp_relaxed 
F90FLAGS =  $(LDFLAGS) $(INCL)


LD = scampif90


.SUFFIXES: $(SUFFIXES)  .f90

.f90.o:
	$(F90) $(F90FLAGS) -c $<


# Include the dependency-list created by makedepf90 below
all:  $(PROG)

include .depend

#
depend .depend:
	/home/mifapw/bin/makedepf90 $(SRCS) \
	-o $(PROG) \
	-l "$(F90) $(LDFLAGS) $(LLIB) -o $(PROG) $(FOBJ) $(INCL) $(LIBS)" > .depend

clean: diskclean touchdepend depend

diskclean:
	rm -f $(PROG) *.o *.mod

touchdepend:
	touch .depend
##########################################################

