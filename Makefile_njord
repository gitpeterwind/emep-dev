#
#
PROG =	Unimod
SRCS =	Aero_Rb_ml.f90 Aero_water_ml.f90 Ammonium_ml.f90 \
	Advection_ml.f90 AirEmis_ml.f90 Aqueous_ml.f90 Biogenics_ml.f90 \
	BoundaryConditions_ml.f90 Chem_ml.f90 Country_ml.f90 Dates_ml.f90 \
	DefPhotolysis_ml.f90 DepVariables_ml.f90 Derived_ml.f90 DryDep_ml.f90 \
	EmisDef_ml.f90 EmisGet_ml.f90 Emissions_ml.f90 Functions_ml.f90 \
	GlobalBCs_ml.f90 GridValues_ml.f90 Io_ml.f90 MassBudget_ml.f90 \
	Met_ml.f90 EQSAM_ml.f90 MARS_ml.f90 ModelConstants_ml.f90 My_Aerosols_ml.f90 \
	My_BoundConditions_ml.f90 My_Chem_ml.f90 My_Derived_ml.f90 \
	My_DryDep_ml.f90 My_Emis_ml.f90 My_MassBudget_ml.f90 \
	My_Outputs_ml.f90 My_WetDep_ml.f90 NetCDF_ml.f90 Nest_ml.f90 Out_restri_ml.f90 \
	Output_hourly.f90 Par_ml.f90 \
	PhysicalConstants_ml.f90 Polinat_ml.f90 Radiation_ml.f90 \
	ReadField_ml.f90 Rsurface_ml.f90 Runchem_ml.f90 SOA_ml.f90 Setup_1d_ml.f90 \
	Setup_1dfields_ml.f90 Sites_ml.f90 SoilWater_ml.f90 Solver.f90 SeaSalt_ml.f90 \
	SubMet_ml.f90 Tabulations_ml.f90 TimeDate_ml.f90 Timefactors_ml.f90 Timing_ml.f90 \
	UK_ml.f90 UKsetup_ml.f90 Unimod.f90 Volcanos_ml.f90 Wesely_ml.f90 \
	Wrtchem.f90 global2local.f90 local2global.f90 PhyChem_ml.f90



###################################################

LIBS =  -lnetcdf
INCL = -I/home/ntnu/usrlocal/netcdf/netcdf-3.6.1/include
LLIB = -L/home/ntnu/usrlocal/netcdf/netcdf-3.6.1/lib -L/usr/lib

F90 = mpxlf90_r 
F90FLAGS = -q64 -qrealsize=8 -O3 -qarch=pwr5 -qtune=pwr5 $(INCL)
LDFLAGS = -q64 -qrealsize=8 -O3 -qarch=pwr5 -qtune=pwr5


LD = $(F90)


.SUFFIXES: $(SUFFIXES)  .f90

.f90.o:
	$(F90) $(F90FLAGS) -c $<

.f.o:	
	$(F90) $(F90FLAGS) -c $<


# Include the dependency-list created by makedepf90 below
all:  $(PROG)

include .depend

#
depend .depend:
	/home/ntnu/mifahik/local/bin/makedepf90  $(SRCS) \
	-o $(PROG) \
	-l "$(F90) $(LDFLAGS) $(LLIB) -o $(PROG) $(FOBJ) $(INCL) $(LIBS)" > .depend

clean: diskclean touchdepend depend

diskclean:
	rm -f $(PROG) *.o *.mod

touchdepend:
	touch .depend


##########################################################

